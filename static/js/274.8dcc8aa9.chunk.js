(self.webpackChunkxchain=self.webpackChunkxchain||[]).push([[274],{27494:function(e){function t(e,t,n){var r,i,o,s,l;function u(){var c=Date.now()-s;c<t&&c>=0?r=setTimeout(u,t-c):(r=null,n||(l=e.apply(o,i),o=i=null))}null==t&&(t=100);var c=function(){o=this,i=arguments,s=Date.now();var c=n&&!r;return r||(r=setTimeout(u,t)),c&&(l=e.apply(o,i),o=i=null),l};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(l=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},c}t.debounce=t,e.exports=t},52183:function(e,t,n){"use strict";var r=n(72791),i=n(52007),o=n.n(i),s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return o.state={},o.styles={ellipsis:{position:"fixed",visibility:"hidden",top:0,left:0}},o.elements={},o.onResize=o.onResize.bind(o),o.onTruncate=o.onTruncate.bind(o),o.calcTargetWidth=o.calcTargetWidth.bind(o),o.measureWidth=o.measureWidth.bind(o),o.getLines=o.getLines.bind(o),o.renderLine=o.renderLine.bind(o),o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.elements.text,t=this.calcTargetWidth,n=this.onResize,r=document.createElement("canvas");this.canvasContext=r.getContext("2d"),t((function(){e&&e.parentNode.removeChild(e)})),window.addEventListener("resize",n)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&this.forceUpdate(),this.props.width!==e.width&&this.calcTargetWidth()}},{key:"componentWillUnmount",value:function(){var e=this.elements.ellipsis,t=this.onResize,n=this.timeout;e.parentNode.removeChild(e),window.removeEventListener("resize",t),window.cancelAnimationFrame(n)}},{key:"innerText",value:function(e){var t=document.createElement("div"),n="innerText"in window.HTMLElement.prototype?"innerText":"textContent";t.innerHTML=e.innerHTML.replace(/\r\n|\r|\n/g," ");var r=t[n],i=document.createElement("div");return i.innerHTML="foo<br/>bar","foo\nbar"!==i[n].replace(/\r\n|\r/g,"\n")&&(t.innerHTML=t.innerHTML.replace(/<br.*?[\/]?>/gi,"\n"),r=t[n]),r}},{key:"onResize",value:function(){this.calcTargetWidth()}},{key:"onTruncate",value:function(e){var t=this.props.onTruncate;"function"===typeof t&&(this.timeout=window.requestAnimationFrame((function(){t(e)})))}},{key:"calcTargetWidth",value:function(e){var t=this.elements.target,n=this.calcTargetWidth,r=this.canvasContext,i=this.props.width;if(t){var o=i||Math.floor(t.parentNode.getBoundingClientRect().width);if(!o)return window.requestAnimationFrame((function(){return n(e)}));var s=window.getComputedStyle(t),l=[s["font-weight"],s["font-style"],s["font-size"],s["font-family"]].join(" ");r.font=l,this.setState({targetWidth:o},e)}}},{key:"measureWidth",value:function(e){return this.canvasContext.measureText(e).width}},{key:"ellipsisWidth",value:function(e){return e.offsetWidth}},{key:"trimRight",value:function(e){return e.replace(/\s+$/,"")}},{key:"getLines",value:function(){for(var e=this.elements,t=this.props,n=t.lines,i=t.ellipsis,o=t.trimWhitespace,s=this.state.targetWidth,l=this.innerText,u=this.measureWidth,c=this.onTruncate,a=this.trimRight,f=[],h=l(e.text).split("\n").map((function(e){return e.split(" ")})),p=!0,d=this.ellipsisWidth(this.elements.ellipsis),v=1;v<=n;v++){var m=h[0];if(0!==m.length){var w=m.join(" ");if(u(w)<=s&&1===h.length){p=!1,f.push(w);break}if(v===n){for(var y=m.join(" "),b=0,g=y.length-1;b<=g;){var T=Math.floor((b+g)/2);u(y.slice(0,T+1))+d<=s?b=T+1:g=T-1}var E=y.slice(0,b);if(o)for(E=a(E);!E.length&&f.length;){E=a(f.pop())}w=r.createElement("span",null,E,i)}else{for(var O=0,x=m.length-1;O<=x;){var z=Math.floor((O+x)/2);u(m.slice(0,z+1).join(" "))<=s?O=z+1:x=z-1}if(0===O){v=n-1;continue}w=m.slice(0,O).join(" "),h[0].splice(0,O)}f.push(w)}else f.push(),h.shift(),v--}return c(p),f}},{key:"renderLine",value:function(e,t,n){if(t===n.length-1)return r.createElement("span",{key:t},e);var i=r.createElement("br",{key:t+"br"});return e?[r.createElement("span",{key:t},e),i]:i}},{key:"render",value:function(){var e=this,t=this.elements.target,n=this.props,i=n.children,o=n.ellipsis,l=n.lines,u=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["children","ellipsis","lines"]),c=this.state.targetWidth,a=this.getLines,f=this.renderLine,h=this.onTruncate,p=void 0;return"undefined"!==typeof window&&!(!t||!c)&&(l>0?p=a().map(f):(p=i,h(!1))),delete u.onTruncate,delete u.trimWhitespace,r.createElement("span",s({},u,{ref:function(t){e.elements.target=t}}),r.createElement("span",null,p),r.createElement("span",{ref:function(t){e.elements.text=t}},i),r.createElement("span",{ref:function(t){e.elements.ellipsis=t},style:this.styles.ellipsis},o))}}]),t}(r.Component);u.propTypes={children:o().node,ellipsis:o().node,lines:o().oneOfType([o().oneOf([!1]),o().number]),trimWhitespace:o().bool,width:o().number,onTruncate:o().func},u.defaultProps={children:"",ellipsis:"\u2026",lines:1,trimWhitespace:!1,width:0},t.Z=u},47332:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(93433),i=n(29439),o=n(43144),s=n(15671),l=n(72791),u=n(27494),c=n.n(u);function a(e){var t=void 0===e?{debounce:0,scroll:!1,offsetSize:!1}:e,n=t.debounce,r=t.scroll,u=t.polyfill,a=t.offsetSize,h=u||("undefined"===typeof window?(0,o.Z)((function e(){(0,s.Z)(this,e)})):window.ResizeObserver);if(!h)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");var d=(0,l.useState)({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),v=(0,i.Z)(d,2),m=v[0],w=v[1],y=(0,l.useRef)({element:null,scrollContainers:null,resizeObserver:null,lastBounds:m}),b=n?"number"===typeof n?n:n.scroll:null,g=n?"number"===typeof n?n:n.resize:null,T=(0,l.useRef)(!1);(0,l.useEffect)((function(){return T.current=!0,function(){T.current=!1}}));var E=(0,l.useMemo)((function(){var e=function(){if(y.current.element){var e=y.current.element.getBoundingClientRect(),t={left:e.left,top:e.top,width:e.width,height:e.height,bottom:e.bottom,right:e.right,x:e.x,y:e.y};y.current.element instanceof HTMLElement&&a&&(t.height=y.current.element.offsetHeight,t.width=y.current.element.offsetWidth),Object.freeze(t),T.current&&!p(y.current.lastBounds,t)&&w(y.current.lastBounds=t)}};return[e,g?c()(e,g):e,b?c()(e,b):e]}),[w,a,b,g]),O=(0,i.Z)(E,3),x=O[0],z=O[1],L=O[2];function W(){y.current.scrollContainers&&(y.current.scrollContainers.forEach((function(e){return e.removeEventListener("scroll",L,!0)})),y.current.scrollContainers=null),y.current.resizeObserver&&(y.current.resizeObserver.disconnect(),y.current.resizeObserver=null)}function k(){y.current.element&&(y.current.resizeObserver=new h(L),y.current.resizeObserver.observe(y.current.element),r&&y.current.scrollContainers&&y.current.scrollContainers.forEach((function(e){return e.addEventListener("scroll",L,{capture:!0,passive:!0})})))}var C,j,R;return C=L,j=Boolean(r),(0,l.useEffect)((function(){if(j){var e=C;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),function(){window.removeEventListener("scroll",e,!0)}}}),[C,j]),R=z,(0,l.useEffect)((function(){var e=R;return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[R]),(0,l.useEffect)((function(){W(),k()}),[r,L,z]),(0,l.useEffect)((function(){return W}),[]),[function(e){e&&e!==y.current.element&&(W(),y.current.element=e,y.current.scrollContainers=f(e),k())},m,x]}function f(e){var t=[];if(!e||e===document.body)return t;var n=window.getComputedStyle(e);return[n.overflow,n.overflowX,n.overflowY].some((function(e){return"auto"===e||"scroll"===e}))&&t.push(e),[].concat(t,(0,r.Z)(f(e.parentElement)))}var h=["x","y","top","bottom","left","right","width","height"],p=function(e,t){return h.every((function(n){return e[n]===t[n]}))}}}]);
//# sourceMappingURL=274.8dcc8aa9.chunk.js.map