{"version":3,"file":"static/js/2651.7de22e0d.chunk.js","mappings":"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","sources":["layout/ranking/Table/style.js","layout/ranking/Table/index.jsx","webpack://voigate/./src/ui/Pagination/style.module.scss?1d6a","ui/Pagination/index.jsx"],"sourcesContent":["import styled from 'styled-components/macro';\r\nimport {DataGrid} from '@mui/x-data-grid';\r\n\r\nconst StyledTable = styled(DataGrid)`\r\n  color: var(--text-light) !important;\r\n  border-radius: 10px;\r\n  border: none !important;\r\n  font-size: 17px !important;\r\n\r\n  .MuiDataGrid {\r\n    &-columnHeaders {\r\n      background-color: var(--bg-secondary);\r\n      border-bottom: none;\r\n      border-radius: 10px;\r\n    }\r\n    \r\n    &-columnHeader {\r\n      padding: 0;\r\n      pointer-events: none;\r\n    }\r\n\r\n    &-columnSeparator {\r\n      display: none !important;\r\n    }\r\n    \r\n    &-cell {\r\n      border-bottom: none !important;\r\n      outline: none !important;\r\n    }\r\n    \r\n    &-row {\r\n      border-bottom: 1px solid var(--divider);\r\n    }\r\n    \r\n    &-footerContainer {\r\n      border-top: none;\r\n      justify-content: center;\r\n    }\r\n  }\r\n`;\r\n\r\nexport default StyledTable","// styled components\r\nimport StyledTable from \"./style\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\n// components\r\nimport {\r\n  gridPageCountSelector,\r\n  gridPageSelector,\r\n  useGridApiContext,\r\n  useGridSelector,\r\n} from \"@mui/x-data-grid\";\r\nimport Pagination from \"@ui/Pagination\";\r\n\r\n// constants\r\nimport { COLUMNS } from \"@constants/ranking\";\r\n\r\n\r\n// utils\r\nimport { memo, useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst PAGE_SIZE = 100; // number of items per page\r\n\r\nconst Table = ({ period, category, type }) => {\r\n  const [collectionData, setCollectionData] = useState([]);\r\n  const [continuation, setContinuation] = useState();\r\n  const [loading, setLoading] = useState(false);\r\n  const [hasMore, setHasMore] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        let sortByVal = \"\";\r\n        switch (period.value) {\r\n          case \"all\":\r\n            sortByVal = \"allTimeVolume\";\r\n            break;\r\n          case \"year\":\r\n            sortByVal = \"1DayVolume\";\r\n            break;\r\n          case \"month\":\r\n            sortByVal = \"30DayVolume\";\r\n            break;\r\n          case \"week\":\r\n            sortByVal = \"7DayVolume\";\r\n            break;\r\n          default:\r\n            sortByVal = \"allTimeVolume\";\r\n            break;\r\n        }\r\n\r\n        const { data } = await axios.get(\r\n          \"https://api-goerli.reservoir.tools/collections/v5\",\r\n          {\r\n            params: {\r\n              includeTopBid: \"true\",\r\n              sortBy: sortByVal,\r\n            },\r\n          }\r\n        );\r\n\r\n        setCollectionData(data.collections);\r\n        setContinuation(data.continuation);\r\n        setHasMore(data.continuation);\r\n      } catch (error) {\r\n        console.log(error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, [period.value]);\r\n\r\n  const loadMoreData = async () => {\r\n    if (!hasMore) return;\r\n    try {\r\n      setLoading(true);\r\n      const { data } = await axios.get(\r\n        \"https://api-goerli.reservoir.tools/collections/v5\",\r\n        {\r\n          params: {\r\n            includeTopBid: \"true\",\r\n            sortBy: \"allTimeVolume\",\r\n            continuation, // add continuation parameter\r\n          },\r\n        }\r\n      );\r\n      setCollectionData((prevState) => [...prevState, ...data.collections]);\r\n      setContinuation(data.continuation);\r\n      setHasMore(data.continuation);\r\n    } catch (error) {\r\n      console.log(error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const onPageChange = (event, page) => {\r\n    setCurrentPage(page);\r\n  };\r\n\r\n  const startIndex = (currentPage - 1) * PAGE_SIZE;\r\n  const endIndex = startIndex + PAGE_SIZE;\r\n  const currentData = collectionData.slice(startIndex, endIndex);\r\n\r\n  return (\r\n    <InfiniteScroll\r\n      dataLength={collectionData.length}\r\n      next={loadMoreData}\r\n      hasMore={hasMore}\r\n      scrollThreshold={0.9} // Trigger the next load when we're 90% scrolled down\r\n      endMessage={<div>No more items to load</div>}\r\n    >\r\n      <StyledTable\r\n        rows={collectionData}\r\n        columns={COLUMNS(period, category, type)}\r\n        disableSelectionOnClick\r\n        disableColumnMenu\r\n        autoHeight\r\n        rowHeight={90}\r\n        headerHeight={90}\r\n        classes={{\r\n          columnHeader: \"h6\",\r\n        }}\r\n      />\r\n    </InfiniteScroll>\r\n  );\r\n};\r\n\r\n\r\nexport default memo(Table);\r\n\r\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"style_wrapper__w0yTk\",\"btn\":\"style_btn__w2s3j\"};","// styling\r\nimport styles from \"./style.module.scss\";\r\n\r\n// utils\r\nimport classNames from \"classnames\";\r\n\r\nconst Pagination = ({ pagination, caller }) => {\r\n  const total = pagination.maxPage;\r\n\r\n  return (\r\n    <div className={styles.wrapper}>\r\n      <button\r\n        className=\"btn btn--outline text-sm\"\r\n        onClick={pagination.prev}\r\n        disabled={pagination.currentPage <= 0}\r\n        aria-label=\"Previous page\"\r\n      >\r\n        prev\r\n      </button>\r\n\r\n      <div className=\"d-flex g-10\">\r\n        {[...Array(total)].map((_, i) => {\r\n          return (\r\n            <button\r\n              className={classNames(`${styles.btn} btn btn--outline text-sm`, {\r\n                active: i === pagination.currentPage,\r\n              })}\r\n              key={i}\r\n              onClick={() => {\r\n                pagination.goToPage(i);\r\n                caller()\r\n               \r\n              }}\r\n              data-pagination\r\n              disabled={pagination.currentPage === i}\r\n              aria-label={`Page ${i + 1}`}\r\n            >\r\n              {i + 1}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n      {/* <button\r\n        className=\"btn btn--outline text-sm\"\r\n        onClick={pagination.next}\r\n        disabled={pagination.currentPage + 1 === pagination.maxPage}\r\n        aria-label=\"Next page\"\r\n      >\r\n        next\r\n      </button> */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Pagination;\r\n"],"names":["styled","DataGrid","withConfig","componentId","Table","_ref","period","category","type","_useState","useState","_useState2","_slicedToArray","collectionData","setCollectionData","_useState3","_useState4","continuation","setContinuation","_useState5","_useState6","setLoading","_useState7","_useState8","hasMore","setHasMore","_useState9","_useState10","currentPage","useEffect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","sortByVal","_yield$axios$get","data","wrap","_context","prev","next","t0","value","abrupt","axios","params","includeTopBid","sortBy","sent","collections","t1","console","log","finish","stop","loadMoreData","_ref3","_callee2","_yield$axios$get2","_context2","prevState","concat","_toConsumableArray","apply","arguments","startIndex","endIndex","slice","_jsx","InfiniteScroll","dataLength","length","scrollThreshold","endMessage","children","StyledTable","rows","columns","COLUMNS","disableSelectionOnClick","disableColumnMenu","autoHeight","rowHeight","headerHeight","classes","columnHeader","memo","pagination","caller","total","maxPage","_jsxs","className","styles","onClick","disabled","Array","map","_","i","classNames","active","goToPage"],"sourceRoot":""}