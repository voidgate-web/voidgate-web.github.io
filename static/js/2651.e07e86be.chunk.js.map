{"version":3,"file":"static/js/2651.e07e86be.chunk.js","mappings":"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","sources":["layout/ranking/Table/style.js","layout/ranking/Table/index.jsx","webpack://voigate/./src/ui/Pagination/style.module.scss?1d6a","ui/Pagination/index.jsx"],"sourcesContent":["import styled from 'styled-components/macro';\nimport {DataGrid} from '@mui/x-data-grid';\n\nconst StyledTable = styled(DataGrid)`\n  color: var(--text-light) !important;\n  border-radius: 10px;\n  border: none !important;\n  font-size: 17px !important;\n\n  .MuiDataGrid {\n    &-columnHeaders {\n      background-color: var(--bg-secondary);\n      border-bottom: none;\n      border-radius: 10px;\n    }\n    \n    &-columnHeader {\n      padding: 0;\n      pointer-events: none;\n    }\n\n    &-columnSeparator {\n      display: none !important;\n    }\n    \n    &-cell {\n      border-bottom: none !important;\n      outline: none !important;\n    }\n    \n    &-row {\n      border-bottom: 1px solid var(--divider);\n    }\n    \n    &-footerContainer {\n      border-top: none;\n      justify-content: center;\n    }\n  }\n`;\n\nexport default StyledTable","// styled components\nimport StyledTable from \"./style\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\n// components\nimport {\n  gridPageCountSelector,\n  gridPageSelector,\n  useGridApiContext,\n  useGridSelector,\n} from \"@mui/x-data-grid\";\nimport Pagination from \"@ui/Pagination\";\n\n// constants\nimport { COLUMNS } from \"@constants/ranking\";\n\n\n// utils\nimport { memo, useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nconst PAGE_SIZE = 100; // number of items per page\n\nconst Table = ({ period, category, type }) => {\n  const [collectionData, setCollectionData] = useState([]);\n  const [continuation, setContinuation] = useState();\n  const [loading, setLoading] = useState(false);\n  const [hasMore, setHasMore] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        let sortByVal = \"\";\n        switch (period.value) {\n          case \"all\":\n            sortByVal = \"allTimeVolume\";\n            break;\n          case \"year\":\n            sortByVal = \"1DayVolume\";\n            break;\n          case \"month\":\n            sortByVal = \"30DayVolume\";\n            break;\n          case \"week\":\n            sortByVal = \"7DayVolume\";\n            break;\n          default:\n            sortByVal = \"allTimeVolume\";\n            break;\n        }\n\n        const { data } = await axios.get(\n          \"https://api-goerli.reservoir.tools/collections/v5\",\n          {\n            params: {\n              includeTopBid: \"true\",\n              sortBy: sortByVal,\n            },\n          }\n        );\n\n        setCollectionData(data.collections);\n        setContinuation(data.continuation);\n        setHasMore(data.continuation);\n      } catch (error) {\n        console.log(error);\n      } finally {\n        setLoading(false);\n      }\n    })();\n  }, [period.value]);\n\n  const loadMoreData = async () => {\n    if (!hasMore) return;\n    try {\n      setLoading(true);\n      const { data } = await axios.get(\n        \"https://api-goerli.reservoir.tools/collections/v5\",\n        {\n          params: {\n            includeTopBid: \"true\",\n            sortBy: \"allTimeVolume\",\n            continuation, // add continuation parameter\n          },\n        }\n      );\n      setCollectionData((prevState) => [...prevState, ...data.collections]);\n      setContinuation(data.continuation);\n      setHasMore(data.continuation);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const onPageChange = (event, page) => {\n    setCurrentPage(page);\n  };\n\n  const startIndex = (currentPage - 1) * PAGE_SIZE;\n  const endIndex = startIndex + PAGE_SIZE;\n  const currentData = collectionData.slice(startIndex, endIndex);\n\n  return (\n    <InfiniteScroll\n      dataLength={collectionData.length}\n      next={loadMoreData}\n      hasMore={hasMore}\n      scrollThreshold={0.9} // Trigger the next load when we're 90% scrolled down\n      endMessage={<div>No more items to load</div>}\n    >\n      <StyledTable\n        rows={collectionData}\n        columns={COLUMNS(period, category, type)}\n        disableSelectionOnClick\n        disableColumnMenu\n        autoHeight\n        rowHeight={90}\n        headerHeight={90}\n        classes={{\n          columnHeader: \"h6\",\n        }}\n      />\n    </InfiniteScroll>\n  );\n};\n\n\nexport default memo(Table);\n\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"style_wrapper__CtKLE\",\"btn\":\"style_btn__LG+VL\"};","// styling\nimport styles from \"./style.module.scss\";\n\n// utils\nimport classNames from \"classnames\";\n\nconst Pagination = ({ pagination, caller }) => {\n  const total = pagination.maxPage;\n\n  return (\n    <div className={styles.wrapper}>\n      <button\n        className=\"btn btn--outline text-sm\"\n        onClick={pagination.prev}\n        disabled={pagination.currentPage <= 0}\n        aria-label=\"Previous page\"\n      >\n        prev\n      </button>\n\n      <div className=\"d-flex g-10\">\n        {[...Array(total)].map((_, i) => {\n          return (\n            <button\n              className={classNames(`${styles.btn} btn btn--outline text-sm`, {\n                active: i === pagination.currentPage,\n              })}\n              key={i}\n              onClick={() => {\n                pagination.goToPage(i);\n                caller()\n               \n              }}\n              data-pagination\n              disabled={pagination.currentPage === i}\n              aria-label={`Page ${i + 1}`}\n            >\n              {i + 1}\n            </button>\n          );\n        })}\n      </div>\n      {/* <button\n        className=\"btn btn--outline text-sm\"\n        onClick={pagination.next}\n        disabled={pagination.currentPage + 1 === pagination.maxPage}\n        aria-label=\"Next page\"\n      >\n        next\n      </button> */}\n    </div>\n  );\n};\n\nexport default Pagination;\n"],"names":["styled","DataGrid","withConfig","componentId","Table","_ref","period","category","type","_useState","useState","_useState2","_slicedToArray","collectionData","setCollectionData","_useState3","_useState4","continuation","setContinuation","_useState5","_useState6","setLoading","_useState7","_useState8","hasMore","setHasMore","_useState9","_useState10","currentPage","useEffect","_asyncToGenerator","_regeneratorRuntime","mark","_callee","sortByVal","_yield$axios$get","data","wrap","_context","prev","next","t0","value","abrupt","axios","params","includeTopBid","sortBy","sent","collections","t1","console","log","finish","stop","loadMoreData","_ref3","_callee2","_yield$axios$get2","_context2","prevState","concat","_toConsumableArray","apply","arguments","startIndex","endIndex","slice","_jsx","InfiniteScroll","dataLength","length","scrollThreshold","endMessage","children","StyledTable","rows","columns","COLUMNS","disableSelectionOnClick","disableColumnMenu","autoHeight","rowHeight","headerHeight","classes","columnHeader","memo","pagination","caller","total","maxPage","_jsxs","className","styles","onClick","disabled","Array","map","_","i","classNames","active","goToPage"],"sourceRoot":""}